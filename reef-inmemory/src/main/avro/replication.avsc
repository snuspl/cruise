[
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "record",
  "name" : "Condition",
  "fields" :
  [
    { "name" : "type", "type" : "string" },
    { "name" : "operator", "type" : "string" },
    { "name" : "operand", "type" : "string" }
  ]
},
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "enum",
  "name" : "SyncMethod",
  "symbols" : [ "WRITE_BACK", "WRITE_THROUGH" ]
},
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "record",
  "name" : "Write",
  "fields" :
  [
    { "name" : "sync", "type" : "SyncMethod" },
    { "name" : "base_replication_factor", "type" : "int" }
  ]
},
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "record",
  "name" : "Action",
  "fields" :
  [
    { "name" : "cache_replication_factor", "type" : "int" },
    { "name" : "pin", "type" : "boolean" },
    { "name" : "write", "type" : "Write" }
  ]
},
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "record",
  "name" : "Rule",
  "fields" :
  [
    { "name" : "id", "type" : "string"},
    {
      "name" : "conditions",
      "type" :
      {
        "type" : "array",
        "items" : "Condition"
      }
    },
    { "name" : "action", "type" : "Action" }
  ]
},
{
  "namespace" : "org.apache.reef.inmemory.common.replication",
  "type" : "record",
  "name" : "Rules",
  "fields" :
  [
    {
      "name" : "rules",
      "type" :
      {
        "type" : "array",
        "items" : "Rule"
      }
    },
    { "name" : "default", "type" : "Action" }
  ]
}
]